{% extends "admin/base.html" %}
{% block content %}
<div class="min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 p-8">
  <h1 class="text-3xl font-bold text-green-700 mb-6 flex items-center gap-2">ðŸ©º Manage Doctors</h1>

  {% if success %}
    <div class="bg-green-100 text-green-700 p-3 mb-4 rounded">{{ success }}</div>
  {% endif %}
  {% if error %}
    <div class="bg-red-100 text-red-700 p-3 mb-4 rounded">{{ error }}</div>
  {% endif %}

  <div class="overflow-x-auto bg-white rounded-xl shadow-lg border border-gray-200">
    <table class="min-w-full text-sm text-gray-700">
      <thead class="bg-green-100 text-green-900 text-left">
        <tr>
          <th class="p-3">Doctor Name</th>
          <th class="p-3">Username</th>
          <th class="p-3">Department</th>
          <th class="p-3">Status</th>
          <th class="p-3 text-right">Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for d in doctors %}
        <tr class="border-b hover:bg-green-50">
          <td class="p-3 font-medium">{{ d.name }}</td>
          <td class="p-3">{{ d.username }}</td>
          <td class="p-3">{{ d.department or '-' }}</td>
          <td class="p-3">
            {% if d.status == 'approved' %}
              <span class="bg-green-200 text-green-900 px-2 py-1 rounded-full text-xs">Approved</span>
            {% elif d.status == 'rejected' %}
              <span class="bg-red-200 text-red-900 px-2 py-1 rounded-full text-xs">Rejected</span>
            {% else %}
              <span class="bg-yellow-200 text-yellow-900 px-2 py-1 rounded-full text-xs">Pending</span>
            {% endif %}
          </td>
          <td class="p-3 text-right space-x-2">
            {% if d.status != 'approved' %}
              <a href="/admin/approve-doctor/{{ d.id }}" class="bg-green-600 text-white px-3 py-1 rounded-lg hover:bg-green-700 text-xs font-medium">Approve</a>
            {% endif %}
            {% if d.status != 'rejected' %}
              <a href="/admin/reject-doctor/{{ d.id }}" class="bg-red-600 text-white px-3 py-1 rounded-lg hover:bg-red-700 text-xs font-medium">Reject</a>
            {% endif %}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}